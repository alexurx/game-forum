{% extends 'base.html' %}

{% block title %}–°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É - {{ FORUM_CONFIG.name }}{% endblock %}

{% block content %}
<div style="margin-bottom: 1rem;">
    <a href="{% url 'forum:category_detail' category.pk %}" style="color: var(--primary); text-decoration: none;">
        ‚Üê –ù–∞–∑–∞–¥ –∫ {{ category.name }}
    </a>
</div>

<div class="card">
    <h1>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É</h1>
    <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">–≤ —Ä–∞–∑–¥–µ–ª–µ: {{ category.name }}</p>
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã</label>
            <input type="text" name="title" id="id_title" maxlength="200" required style="width: 100%; padding: 0.7rem; border: 1px solid var(--border); border-radius: 6px; background: var(--bg-main); color: var(--text-primary); font-size: 1rem; font-family: inherit;">
        </div>
        
        <div class="form-group">
            <label>–û–±–ª–æ–∂–∫–∞ —Ç–µ–º—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            
            <label class="file-label">
                üñºÔ∏è –í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                <input
                    type="file"
                    name="cover_image"
                    id="id_cover_image"
                    accept="image/*"
                    class="file-input"
                    onchange="updateFileName(this)"
                >
            </label>
            
            <span class="file-name" id="file-name">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
            
            <small class="markdown-hint">
                –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 1200√ó600
            </small>
        </div>
        
        <div class="form-group">
            <label for="id_first_post">–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</label>
            <textarea name="first_post" id="id_first_post" rows="8" required style="width: 100%; padding: 0.7rem; border: 1px solid var(--border); border-radius: 6px; background: var(--bg-main); color: var(--text-primary); font-size: 1rem; font-family: inherit;"></textarea>
            <small class="markdown-hint">
                –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Markdown:<br>
                <strong>–∂–∏—Ä–Ω—ã–π</strong>, <em>–∫—É—Ä—Å–∏–≤</em>, <code>`–∫–æ–¥`</code><br>
                [—Å—Å—ã–ª–∫–∞](https://example.com)<br>
                ![–∫–∞—Ä—Ç–∏–Ω–∫–∞](https://...)
            </small>
        </div>
        
        <div style="display: flex; gap: 0.5rem;">
            <button type="submit" class="btn">–°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É</button>
            <a href="{% url 'forum:category_detail' category.pk %}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>
{% endblock %}